(this["webpackJsonpmeeting-scheduler"]=this["webpackJsonpmeeting-scheduler"]||[]).push([[0],{154:function(t,e,a){"use strict";a.r(e);var n=a(3),s=a.n(n),r=a(15),c=a.n(r),o=(a(70),a(58)),l=a(59),i=a(64),u=a(63),m=(a(71),a(60)),h=a.n(m),d=a(43),p=a.n(d),f=(a(94),function(t){Object(i.a)(a,t);var e=Object(u.a)(a);function a(t){var n;return Object(o.a)(this,a),(n=e.call(this,t)).submitFunc=function(t){if(t.preventDefault(),parseInt(n.state.stime.substring(0,2))===parseInt(n.state.etime.substring(0,2))&&parseInt(n.state.stime.substring(3,5))>=parseInt(n.state.etime.substring(3,5)))n.setState({op:"Enter Start and End time correctly"});else if(parseInt(n.state.stime.substring(0,2))>parseInt(n.state.etime.substring(0,2)))n.setState({op:"Enter Start and End time correctly"});else{var e=new Date(n.state.fulldate);e.setDate(n.state.fulldate.getDate());var a="".concat(e.getDate()).concat("/").concat(e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)).concat("/").concat(e.getFullYear()).toString(),s=0;n.setState({adate:a});fetch("https://cors-anywhere.herokuapp.com/"+("http://fathomless-shelf-5846.herokuapp.com/api/schedule?date="+a)).then((function(t){return t.json()})).then((function(t){return n.setState({data:t})}));var r,c=n.state.data.map((function(t){return t.start_time.substring(0,t.start_time.length-3)})),o=n.state.data.map((function(t){return t.end_time.substring(0,t.end_time.length-3)})),l=c.map(Number),i=o.map(Number),u=parseInt(n.state.stime.substring(0,2)),m=parseInt(n.state.etime.substring(0,2));for(r=0;r<l.length;r++)if(u>=l[r]&&u<i[r]||m>l[r]&&u<=i[r]){s=1;break}0===s?n.setState({op:"Slot Available",displaybutton:!0}):n.setState({op:"Slot not Available"})}},n.handleChange=function(t){n.setState({fulldate:t,displaybutton:!1})},n.onChangeS=function(t){n.setState({stime:t,displaybutton:!1})},n.onChangeE=function(t){n.setState({etime:t,displaybutton:!1})},n.state={adate:null,fulldate:new Date,displayform:"false",displaybutton:!1,stime:"10:00",op:"",etime:"11:30",data:[]},n}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var t=this,e=new Date;this.setState({fulldate:e});var a="".concat(e.getDate()).concat("/").concat(e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)).concat("/").concat(e.getFullYear()).toString();this.setState({adate:a});fetch("https://cors-anywhere.herokuapp.com/"+("http://fathomless-shelf-5846.herokuapp.com/api/schedule?date="+a)).then((function(t){return t.json()})).then((function(e){return t.setState({data:e})}))}},{key:"left",value:function(){var t=this,e=new Date(this.state.fulldate);e.setDate(this.state.fulldate.getDate()-1),this.setState({fulldate:e});var a="".concat(e.getDate()).concat("/").concat(e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)).concat("/").concat(e.getFullYear()).toString();this.setState({adate:a});fetch("https://cors-anywhere.herokuapp.com/"+("http://fathomless-shelf-5846.herokuapp.com/api/schedule?date="+a)).then((function(t){return t.json()})).then((function(e){return t.setState({data:e})})),this.renderProducts()}},{key:"right",value:function(){var t=this,e=new Date(this.state.fulldate);e.setDate(this.state.fulldate.getDate()+1),this.setState({fulldate:e});var a="".concat(e.getDate()).concat("/").concat(e.getMonth()+1<10?"0".concat(e.getMonth()+1):"".concat(e.getMonth()+1)).concat("/").concat(e.getFullYear()).toString();this.setState({adate:a});fetch("https://cors-anywhere.herokuapp.com/"+("http://fathomless-shelf-5846.herokuapp.com/api/schedule?date="+a)).then((function(t){return t.json()})).then((function(e){return t.setState({data:e})})),this.renderProducts()}},{key:"renderProducts",value:function(){return this.state.data.sort((function(t,e){return t.start_time>e.start_time})),this.state.data.map((function(t){return s.a.createElement("div",{className:"meeting_sch"},s.a.createElement("strong",{className:"meeting_schTime"},parseInt(t.start_time)%12||12,t.start_time.substring(t.start_time.length-3,t.start_time.length)," ",parseInt(t.start_time)>=12?"PM":"AM",s.a.createElement("span",null," - "),parseInt(t.end_time)%12||12,t.end_time.substring(t.end_time.length-3,t.end_time.length)," ",parseInt(t.end_time)>=12?"PM":"AM"),s.a.createElement("div",{className:"meeting_schDetails"},"Meeting with ",t.participants.map((function(t){return s.a.createElement("span",null,t,", ")})),s.a.createElement("span",null,"for "),t.description))}))}},{key:"handleTextChange",value:function(t){}},{key:"render",value:function(){var t=this;return"true"!==this.state.displayform?s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"app__header"},s.a.createElement("button",{onClick:function(){return t.left()}},s.a.createElement("p",null,s.a.createElement("i",{className:"arrow left"}))),s.a.createElement("h1",{className:"app__headerDate"},this.state.fulldate.toDateString()),s.a.createElement("button",{onClick:function(){return t.right()}},s.a.createElement("p",null,s.a.createElement("i",{className:"arrow right"})))),this.renderProducts(),s.a.createElement("div",{className:"app__buttonClass"},s.a.createElement("button",{className:"app__button",onClick:function(){return t.setState({displayform:"true"})}},"Add Meeting"))):"true"===this.state.displayform?s.a.createElement("form",{onSubmit:this.submitFunc},s.a.createElement("div",{className:"form"},s.a.createElement("div",{className:"form__dp"},s.a.createElement("div",{className:"dl"},"Meeting Date"),s.a.createElement(h.a,{selected:this.state.fulldate<new Date?this.state.fulldate=new Date:this.state.fulldate,onChange:this.handleChange,isClearable:"true",dateFormat:"dd/MM/yyyy",minDate:new Date})),s.a.createElement("div",{className:"form__tp"},s.a.createElement("div",{className:"form__tp1"},s.a.createElement("div",{className:"ltp1"},"Start Date"),s.a.createElement(p.a,{onChange:this.onChangeS,value:this.state.stime})),s.a.createElement("div",{className:"form__tp2"},s.a.createElement("div",{className:"ltp1"},"End Date"),s.a.createElement(p.a,{onChange:this.onChangeE,value:this.state.etime}))),s.a.createElement("div",{className:"form__desc"},s.a.createElement("div",{className:"desc"},"Description"),s.a.createElement("input",{type:"textarea",name:"textValue",className:"form__descTa",onChange:this.handleTextChange})),s.a.createElement("div",{className:"form__output>"},s.a.createElement("center",null,s.a.createElement("h3",null,this.state.op)))),s.a.createElement("div",{className:"form__buttonClass"},s.a.createElement("input",{type:"submit",className:"form__button",value:"Check Slot"}),this.state.displaybutton?s.a.createElement("button",{onClick:function(){t.setState({displayform:"false"}),alert("Slot Booked Sucessfully")},className:"bookbtn"},"Book Slot"):null)):void 0}}]),a}(s.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},65:function(t,e,a){t.exports=a(154)},70:function(t,e,a){},71:function(t,e,a){}},[[65,1,2]]]);
//# sourceMappingURL=main.bd5f2162.chunk.js.map